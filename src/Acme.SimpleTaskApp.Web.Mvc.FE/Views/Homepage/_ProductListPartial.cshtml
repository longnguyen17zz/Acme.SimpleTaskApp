<!-- Tabs -->
<ul class="nav nav-tabs mb-3">
    <li class="nav-item">
        <a class="nav-link text-uppercase @(Model.CurrentCategoryId == null ? "active font-weight-bold" : "")"
           href="javascript:void(0);"
           data-categoryid="">
            Tất cả
        </a>
    </li>
    @foreach (var category in @Model.Categories)
    {
        <li class="nav-item">
            <a class="nav-link text-uppercase @(Model.CurrentCategoryId == category.Id ? "active font-weight-bold" : "")"
               href="javascript:void(0);"
                @* href="@Url.Action("Index", new { categoryId = category.Id, categoryName = category.Name })" *@
               data-categoryid="@category.Id">
                @category.Name
            </a>
        </li>
    }
</ul>

<!-- Products Grid -->
<div class="row" style="background: url(https://file.hstatic.net/200000722513/file/thang_04_layout_web_-12.png) center center / cover no-repeat;
    padding: 15px; margin-bottom:20px;">
    @foreach (var products in @Model.Products)
    {
        <div class="col-12 col-sm-6 col-md-4 col-1-5 mb-4 px-2">
            <div class="card h-100 shadow-sm border-0 product-card" data-id="@products.Id" style="cursor:pointer;border-radius:10px;">
                <div class="position-relative">
                    <img src="@products.Images"
                         class="card-img-top p-3" alt="MacBook Pro" style="object-fit: contain; height: 150px;">
                    <span class="badge badge-danger position-absolute" style="top: 10px; right: 10px;">-20%</span>
                </div>
                <div class="card-body d-flex flex-column" style="padding-top: 0px">
                    <h5 class="card-title" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">@products.Name</h5>
                    <div class="mb-2 text-warning" style="font-size:13px;">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                        <i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
                        <small class="text-muted ml-1">(42)</small>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mt-auto">
                        <div>
                            <span class="text-danger font-weight-bold" style="font-size: 18px;">@products.Price.ToString("#,0", System.Globalization.CultureInfo.GetCultureInfo("vi-VN"))₫</span><br>
                            <small class="text-muted"><s>36.990.000đ</s></small>
                        </div>
                        <button class="btn btn-danger rounded-circle shopping-cart" data-product-id="@products.Id">
                            <i class="fas fa-shopping-cart"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    }

</div>

<div id="pagination-data"
     data-pagesize="@Model.PageSize"
     data-keyword="@Model.Keyword"
     data-categoryid="@Model.CategoryId"
     data-currentpage="@Model.CurrentPage">
</div>
<nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
        @* Nút Previous *@
        <li class="page-item @(Model.CurrentPage <= 1 ? "disabled" : "")">
            <a class="page-link"
               href="javascript:void(0);"
               data-page="@(Model.CurrentPage - 1)">
                &laquo;
            </a>
        </li>
        @* Hiển thị từ CurrentPage - 2 đến CurrentPage + 2 *@
        @{
            var start = Math.Max(1, Model.CurrentPage - 2);
            var end = Math.Min(Model.TotalPages, Model.CurrentPage + 2);
        }
        @for (int i = start; i <= end; i++)
        {
            <li class="page-item @(i == Model.CurrentPage ? "active" : "")">
                <a class="page-link"
                   href="javascript:void(0);"
                   data-page="@i">
                    @i
                </a>
            </li>
        }
        @* Nút Next *@
        <li class="page-item @(Model.CurrentPage >= Model.TotalPages ? "disabled" : "")">
            <a class="page-link"
               href="javascript:void(0);"
               data-page="@(Model.CurrentPage + 1)">
                &raquo;
            </a>
        </li>
    </ul>
</nav>