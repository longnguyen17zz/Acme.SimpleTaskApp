@model Acme.SimpleTaskApp.Web.Models.Tasks.IndexViewModel

@{
    ViewBag.Title = L("TaskList");
    ViewBag.ActiveMenu = "TaskList"; //Matches with the menu name in SimpleTaskAppNavigationProvider to highlight the menu item
}

<h2>@L("TaskList")
    <span class="pull-right">
        @Html.DropDownListFor(
                 model => model.SelectedTaskState,
                 Model.GetTasksStateSelectListItems(LocalizationManager),
                 new
                 {
                     @class = "form-control",
                     id = "TaskStateCombobox"
                 })
    </span>
</h2>

<div class="" style="margin-left: 50px;">
    <div class=" ">
        <ul class="list-group flex-row" style="flex-wrap: wrap;" id="TaskList">
            @foreach (var task in Model.Tasks)
            {
                <li class="list-group-item" style="">
                    <span class="pull-right label @Model.GetTaskLabel(task)">@L($"TaskState_{task.State}")</span>
                    <h4 class="list-group-item-heading">@task.Title</h4>
                    <div class="list-group-item-text">
                        @task.CreationTime.ToString("yyyy-MM-dd HH:mm:ss")| @(task.AssignedPersonName ?? L("Unassigned"))
                    </div>
                </li>
            }
        </ul>
    </div>
</div>
<div class="d-flex justify-content-end"> 
    <a class="btn btn-secondary btn-sm rounded-pill d-flex justify-content-center align-items-center mr-lg-2 mb-2 " style="height: 50px; width: 150px;" asp-action="Create">@L("AddNew")</a>

</div>

@section scripts
{
    <environment names="Development">
        <script src="~/view-resources/Views/Tasks/index.js"></script>
    </environment>

    <environment names="Staging,Production">
        <script src="~/view-resources/Views/Tasks/index.min.js"></script>
    </environment>
}